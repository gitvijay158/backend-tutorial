{"ast":null,"code":"// someSaga.js\n\nimport { call, put, takeEvery } from 'redux-saga/effects';\nimport axios from 'axios';\n\n// export const LOAD_USERS = 'LOAD_USERS';\n// export const UPDATE_USER = 'UPDATE_USER';\n// export const DELETE_USER = 'DELETE_USER';\n// export const FETCH_FAILURE = 'FETCH_FAILURE';\n// export const FETCH_SUCCESS = 'FETCH_SUCCESS';\nimport { LOAD_USERS, UPDATE_USER, DELETE_USER, FETCH_FAILURE, FETCH_SUCCESS } from '../actions/types/userTypes';\n\n// Worker saga: will be fired on FETCH_DATA actions\nfunction* loadUsersRecord() {\n  try {\n    const response = yield call(axios.get, 'http://localhost:3002/api/users');\n    // console.log(\"response===>\", response.data);\n    yield put({\n      type: FETCH_SUCCESS,\n      payload: response.data\n    }); //{ type: 'FETCH_SUCCESS', payload: response.data }\n  } catch (error) {\n    yield put({\n      type: FETCH_FAILURE,\n      error\n    });\n  }\n}\n\n// Watcher saga: spawns a new fetchData saga on each LOAD_USERS action\nexport function* watchUserGetData() {\n  // console.log(\"watchUserGetData===>\");\n  yield takeEvery(LOAD_USERS, loadUsersRecord);\n}\nfunction* updateUserRecord(action) {\n  try {\n    const {\n      userId,\n      updatedUserData\n    } = action.payload;\n    console.log(\"userId===>\", userId);\n    // console.log(\"updatedUserData===>\", updatedUserData);\n    yield put({\n      type: UPDATE_USER,\n      payload: {\n        userId,\n        updatedUserData\n      }\n    });\n  } catch (error) {\n    yield put({\n      type: FETCH_FAILURE,\n      error\n    });\n  }\n}\nexport function* watchUpdateUserRecord() {\n  // yield takeEvery(UPDATE_USER, updateUserRecord);\n}","map":{"version":3,"names":["call","put","takeEvery","axios","LOAD_USERS","UPDATE_USER","DELETE_USER","FETCH_FAILURE","FETCH_SUCCESS","loadUsersRecord","response","get","type","payload","data","error","watchUserGetData","updateUserRecord","action","userId","updatedUserData","console","log","watchUpdateUserRecord"],"sources":["/opt/lampp/htdocs/reduxsagaapp/src/redux/sagas/userSaga.js"],"sourcesContent":["// someSaga.js\n\nimport { call, put, takeEvery } from 'redux-saga/effects';\nimport axios from 'axios';\n\n// export const LOAD_USERS = 'LOAD_USERS';\n// export const UPDATE_USER = 'UPDATE_USER';\n// export const DELETE_USER = 'DELETE_USER';\n// export const FETCH_FAILURE = 'FETCH_FAILURE';\n// export const FETCH_SUCCESS = 'FETCH_SUCCESS';\nimport { LOAD_USERS,UPDATE_USER, DELETE_USER, FETCH_FAILURE, FETCH_SUCCESS} from '../actions/types/userTypes';\n\n\n// Worker saga: will be fired on FETCH_DATA actions\nfunction* loadUsersRecord() {\n  try {\n\n    const response = yield call(axios.get, 'http://localhost:3002/api/users');\n    // console.log(\"response===>\", response.data);\n    yield put({ \n        type: FETCH_SUCCESS, \n        payload: response.data\n      } );//{ type: 'FETCH_SUCCESS', payload: response.data }\n  } catch (error) {\n    yield put({ type: FETCH_FAILURE, error });\n  }\n}\n\n// Watcher saga: spawns a new fetchData saga on each LOAD_USERS action\nexport function* watchUserGetData() {\n    // console.log(\"watchUserGetData===>\");\n  yield takeEvery(LOAD_USERS, loadUsersRecord);\n}\n\n function* updateUserRecord(action) {\n  try {\n    const { userId, updatedUserData } = action.payload;\n    console.log(\"userId===>\", userId);\n    // console.log(\"updatedUserData===>\", updatedUserData);\n    yield put({ type: UPDATE_USER, payload: { userId, updatedUserData } });\n  } catch (error) {\n    yield put({ type: FETCH_FAILURE, error });\n  }\n}\n\nexport function* watchUpdateUserRecord() {\n  // yield takeEvery(UPDATE_USER, updateUserRecord);\n}\n\n"],"mappings":"AAAA;;AAEA,SAASA,IAAI,EAAEC,GAAG,EAAEC,SAAS,QAAQ,oBAAoB;AACzD,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA;AACA;AACA,SAASC,UAAU,EAACC,WAAW,EAAEC,WAAW,EAAEC,aAAa,EAAEC,aAAa,QAAO,4BAA4B;;AAG7G;AACA,UAAUC,eAAeA,CAAA,EAAG;EAC1B,IAAI;IAEF,MAAMC,QAAQ,GAAG,MAAMV,IAAI,CAACG,KAAK,CAACQ,GAAG,EAAE,iCAAiC,CAAC;IACzE;IACA,MAAMV,GAAG,CAAC;MACNW,IAAI,EAAEJ,aAAa;MACnBK,OAAO,EAAEH,QAAQ,CAACI;IACpB,CAAE,CAAC,CAAC;EACR,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMd,GAAG,CAAC;MAAEW,IAAI,EAAEL,aAAa;MAAEQ;IAAM,CAAC,CAAC;EAC3C;AACF;;AAEA;AACA,OAAO,UAAUC,gBAAgBA,CAAA,EAAG;EAChC;EACF,MAAMd,SAAS,CAACE,UAAU,EAAEK,eAAe,CAAC;AAC9C;AAEC,UAAUQ,gBAAgBA,CAACC,MAAM,EAAE;EAClC,IAAI;IACF,MAAM;MAAEC,MAAM;MAAEC;IAAgB,CAAC,GAAGF,MAAM,CAACL,OAAO;IAClDQ,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEH,MAAM,CAAC;IACjC;IACA,MAAMlB,GAAG,CAAC;MAAEW,IAAI,EAAEP,WAAW;MAAEQ,OAAO,EAAE;QAAEM,MAAM;QAAEC;MAAgB;IAAE,CAAC,CAAC;EACxE,CAAC,CAAC,OAAOL,KAAK,EAAE;IACd,MAAMd,GAAG,CAAC;MAAEW,IAAI,EAAEL,aAAa;MAAEQ;IAAM,CAAC,CAAC;EAC3C;AACF;AAEA,OAAO,UAAUQ,qBAAqBA,CAAA,EAAG;EACvC;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}